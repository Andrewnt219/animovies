{"version":3,"sources":["Components/ui/BackdropImg.jsx","Components/itemDetail/Field.jsx","Components/itemDetail/Details.jsx","Pages/ItemDetail.jsx"],"names":["styled","div","p","src","width","height","rgba","theme","black","rgbaValue","Container","FieldLabel","FieldValue","Field","title","children","white","breakpoints","xs","sm","lg","Location","Header","h1","primary","SubHeader","SubInfo","Poster","img","Controllers","Button","BaseButton","disabled","Overview","FieldsContainer","Trailer","iframe","Details","item","trailerId","genres","original_name","first_air_date","runtime","poster_path","overview","imdb_id","homepage","fields","pathname","useLocation","StyledLink","to","map","genre","name","join","outlined","as","target","rel","href","contained","Object","entries","idx","label","value","key","sentenceCase","renderFields","BackdropImg","BaseBackdropImg","ItemDetailContainer","ItemDetail","useParams","itemType","itemId","dispatch","useDispatch","useSelector","activeItemSelector","itemDetail","videos","recommendations","isLoading","activeItemIsLoadingSelector","useTitle","useEffect","itemParams","fetchTmdbDetail","error","activeItemError","ErrorModal","LoadingIndicator","MainLayout","backdrop_path","_","pick","Collection","header","sectionName","collection"],"mappings":"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","file":"static/js/11.f4defea6.chunk.js","sourcesContent":["import styled from 'styled-components/macro';\r\nimport { rgba } from 'polished';\r\n\r\nexport default styled.div`\r\n  position: relative;\r\n\r\n  background-image: url('${(p) => p.src}');\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  width: ${(p) => p.width};\r\n  height: ${(p) => p.height};\r\n\r\n  &::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n  \r\n\r\n    width: 100%;\r\n    height: 100%;\r\n    background: ${(p) => rgba(p.theme.black, p.rgbaValue ?? 0.9)};\r\n  }\r\n\r\n  & > * {\r\n    position: absolute;\r\n    z-index: 1;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\nfunction Field({ title, children }) {\r\n  return (\r\n    <Container>\r\n      <FieldLabel>{title}</FieldLabel>\r\n      <FieldValue>{children}</FieldValue>\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: grid;\r\n  grid-template-columns: max-content auto;\r\n`;\r\nconst FieldLabel = styled.div`\r\n  font-weight: bolder;\r\n  margin-right: 0.5rem;\r\n\r\n  ::after {\r\n    content: ':';\r\n  }\r\n`;\r\nconst FieldValue = styled.div``;\r\nexport default Field;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport Field from './Field';\r\nimport BaseButton from 'Components/ui/Button';\r\nimport { sentenceCase } from 'change-case';\r\nimport { useLocation } from 'react-router-dom';\r\nimport StyledLink from 'Components/navigation/StyledLink';\r\n\r\n// NOTE renders detail about the selected item\r\nfunction Details({ item, trailerId }) {\r\n  const {\r\n    title,\r\n    genres,\r\n    first_air_date,\r\n    original_name,\r\n    runtime,\r\n    poster_path,\r\n    overview,\r\n    imdb_id,\r\n    homepage,\r\n    ...fields\r\n  } = item;\r\n\r\n  const { pathname } = useLocation();\r\n\r\n  return (\r\n    <Container>\r\n      {trailerId && (\r\n        <Trailer\r\n          src={`https://www.youtube.com/embed/${trailerId}`}\r\n          title={title}\r\n        ></Trailer>\r\n      )}\r\n\r\n      <Location>\r\n        <StyledLink to=\"/tmdb/all\">Home</StyledLink>\r\n        &nbsp; > &nbsp;\r\n        <StyledLink to={pathname}>{title || original_name}</StyledLink>\r\n      </Location>\r\n\r\n      <Header>{title || original_name}</Header>\r\n\r\n      <SubHeader>\r\n        <SubInfo>{genres.map((genre) => genre.name).join(', ')}</SubInfo>\r\n        <SubInfo>{runtime || 'N/A'} minutes</SubInfo>\r\n      </SubHeader>\r\n\r\n      <Poster src={poster_path} />\r\n\r\n      <Controllers>\r\n        <Button\r\n          outlined\r\n          as=\"a\"\r\n          target=\"_blank\"\r\n          rel=\"noreferrer noopener\"\r\n          href={homepage}\r\n        >\r\n          Site\r\n        </Button>\r\n\r\n        <Button\r\n          contained\r\n          as=\"a\"\r\n          target=\"_blank\"\r\n          rel=\"noreferrer noopener\"\r\n          href={`https://www.imdb.com/title/${imdb_id}`}\r\n        >\r\n          Visit IMDB\r\n        </Button>\r\n      </Controllers>\r\n\r\n      <Overview>{overview}</Overview>\r\n\r\n      <FieldsContainer>{renderFields(fields)}</FieldsContainer>\r\n    </Container>\r\n  );\r\n}\r\n\r\nfunction renderFields(fields) {\r\n  return Object.entries(fields).map(([label, value], idx) => (\r\n    <Field key={idx} title={sentenceCase(label)}>\r\n      {value}\r\n    </Field>\r\n  ));\r\n}\r\n\r\n// NOTE renders a  grid-container\r\nconst Container = styled.div`\r\n  color: ${(p) => p.theme.white};\r\n  font-size: clamp(1.25rem, 2vw, 2rem);\r\n  display: grid;\r\n  padding: 2rem 1rem;\r\n  grid-template-columns: 40vw auto;\r\n  gap: min(2rem, 3vw);\r\n  grid-template-areas:\r\n    'location location'\r\n    'header   header'\r\n    'poster   subheader'\r\n    'poster   fields'\r\n    'controllers   controllers'\r\n    'overview overview';\r\n\r\n  @media (min-width: ${(p) => p.theme.breakpoints.xs}) {\r\n    grid-template-columns: 1fr 1fr;\r\n    grid-template-areas:\r\n      'location location'\r\n      'poster   header'\r\n      'poster   subheader'\r\n      'poster   overview'\r\n      'poster   fields'\r\n      'controllers   controllers';\r\n  }\r\n\r\n  @media (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    grid-template-areas:\r\n      'location   location    trailer'\r\n      'subheader  controllers trailer'\r\n      'header     header      trailer'\r\n      'overview   overview    trailer'\r\n      'fields     fields      trailer';\r\n  }\r\n\r\n  @media (min-width: ${(p) => p.theme.breakpoints.lg}) {\r\n    grid-template-columns: auto auto 40vw;\r\n  }\r\n`;\r\n\r\nconst Location = styled.p`\r\n  filter: brightness(0.8);\r\n  font-style: italic;\r\n  grid-column: auto/span 2;\r\n`;\r\nconst Header = styled.h1`\r\n  grid-area: header;\r\n  @media (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    color: ${(p) => p.theme.primary};\r\n    text-shadow: 2px 2px #000;\r\n  }\r\n`;\r\n\r\nconst SubHeader = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  grid-area: subheader;\r\n\r\n  @media (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    flex-direction: row;\r\n    align-items: center;\r\n  }\r\n\r\n  & > *:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\nconst SubInfo = styled.p`\r\n  margin-bottom: 1rem;\r\n\r\n  @media (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    margin-right: 2rem;\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n\r\nconst Poster = styled.img`\r\n  grid-area: poster;\r\n  max-width: 100%;\r\n\r\n  @media (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst Controllers = styled.div`\r\n  grid-area: controllers;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n\r\n  button:first-child {\r\n    margin-right: 1rem;\r\n  }\r\n`;\r\n\r\nconst Button = styled(BaseButton)`\r\n  border-radius: 5rem;\r\n  padding: 1rem;\r\n  width: 40%;\r\n  text-decoration: none;\r\n\r\n  cursor: ${(p) => p.disabled && 'not-allowed'};\r\n`;\r\n\r\nconst Overview = styled.div`\r\n  font-style: italic;\r\n  font-size: inherit;\r\n  filter: brightness(0.8);\r\n  grid-area: overview;\r\n`;\r\n\r\nconst FieldsContainer = styled.div`\r\n  display: grid;\r\n  grid-area: fields;\r\n  row-gap: 1rem;\r\n`;\r\n\r\nconst Trailer = styled.iframe`\r\n  display: none;\r\n\r\n  @media (min-width: ${(p) => p.theme.breakpoints.lg}) {\r\n    position: relative;\r\n    display: block;\r\n    grid-area: trailer;\r\n    margin-left: 2rem;\r\n  }\r\n`;\r\n\r\nexport default Details;\r\n","import React, { useEffect } from 'react';\r\nimport MainLayout from 'HOC/MainLayout';\r\nimport styled from 'styled-components/macro';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  // fetchJikanDetail,\r\n  fetchTmdbDetail,\r\n  activeItemSelector,\r\n  activeItemIsLoadingSelector,\r\n  activeItemError,\r\n} from 'Features/activeItemSlice';\r\nimport Collection from 'Components/moviePage/Collection/Collection';\r\nimport BaseBackdropImg from 'Components/ui/BackdropImg';\r\nimport Details from 'Components/itemDetail/Details';\r\nimport _ from 'lodash';\r\nimport LoadingIndicator from 'Components/ui/LoadingIndicator/LoadingIndicator';\r\nimport useTitle from 'Hooks/useTitle';\r\nimport ErrorModal from 'Components/ui/ErrorModal';\r\n\r\n// NOTE renders ItemDetail page, with a backdrop, info and recommendations\r\nfunction ItemDetail() {\r\n  const { itemType, itemId } = useParams();\r\n  const dispatch = useDispatch();\r\n  const { itemDetail, videos, recommendations } = useSelector(\r\n    activeItemSelector\r\n  );\r\n  const isLoading = useSelector(activeItemIsLoadingSelector);\r\n\r\n  useTitle(itemDetail?.title || itemDetail?.original_name);\r\n  useEffect(() => {\r\n    const itemParams = { itemType, itemId };\r\n    dispatch(fetchTmdbDetail(itemParams));\r\n    // switch () {\r\n    //   case 'tmdb':\r\n\r\n    //     break;\r\n\r\n    //   // case 'jikan':\r\n    //   //   dispatch(fetchJikanDetail(itemParams));\r\n    //   //   break;\r\n\r\n    //   default:\r\n    //     throw new Error('Bad request!');\r\n    // }\r\n  }, [itemType, itemId, dispatch]);\r\n\r\n  const error = useSelector(activeItemError);\r\n  if (error) {\r\n    return <ErrorModal>{error}</ErrorModal>;\r\n  }\r\n\r\n  return isLoading ? (\r\n    <LoadingIndicator />\r\n  ) : (\r\n    <MainLayout>\r\n      <BackdropImg\r\n        src={itemDetail.backdrop_path}\r\n        width=\"100vw\"\r\n        height=\"100vmin\"\r\n        //\r\n        rgbaValue={0.8}\r\n      ></BackdropImg>\r\n\r\n      <ItemDetailContainer>\r\n        <Details\r\n          trailerId={videos[0]?.key}\r\n          item={_.pick(itemDetail, [\r\n            'title',\r\n            'original_name',\r\n            'first_air_date',\r\n            'overview',\r\n            'genres',\r\n            'runtime',\r\n            'poster_path',\r\n            'vote_average',\r\n            'popularity',\r\n            'release_date',\r\n\r\n            'imdb_id',\r\n            'homepage',\r\n          ])}\r\n        />\r\n\r\n        <Collection\r\n          header={{\r\n            sectionName: 'Recommendations',\r\n          }}\r\n          collection={recommendations}\r\n        />\r\n      </ItemDetailContainer>\r\n    </MainLayout>\r\n  );\r\n}\r\n\r\nconst BackdropImg = styled(BaseBackdropImg)`\r\n  position: relative;\r\n\r\n  @media (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n  }\r\n`;\r\n\r\nconst ItemDetailContainer = styled.div`\r\n  @media (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    position: relative;\r\n    top: 0;\r\n    left: 0;\r\n  }\r\n`;\r\n\r\nexport default ItemDetail;\r\n"],"sourceRoot":""}